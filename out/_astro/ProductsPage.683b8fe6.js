import{h as f}from"./hooks.module.4197dc90.js";import{c as N,C as _,t as v}from"./index.d110d2c1.js";import{o as e}from"./jsxRuntime.module.524dbbf4.js";/* empty css                       *//* empty css                       *//* empty css                       */import"./preact.module.4ded6461.js";/* empty css                       */function C(c){const r=new Date,a=new Date(c),t=r.getTime()-a.getTime();return Math.floor(t/(1e3*60*60*24))}function y(c,r){return((c-r)*100/c).toFixed(0)}const w=({fill:c="currentColor",stroke:r="currentColor",size:a=24,width:t=24,height:s=24,...d})=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",width:a||t,height:a||s,fill:c,stroke:r,...d,children:e("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z",clipRule:"evenodd"})}),b=({rating:c,small:r})=>{const a=[...Array(5)];return e("div",{className:"ratings",children:a.map((t,s)=>e(w,{className:s<c?"start-fill":"",size:r?18:24},s))})},i=({color:c="primary",children:r,class:a,...t})=>e("small",{className:`${a||""} badge badge--${c}`,...t,children:r}),D=({colors:c,small:r})=>e("div",{children:[!r&&e("strong",{children:"Colores Disponibles"}),e("div",{className:"product-color__list",children:c.map(a=>e("span",{width:r?16:20,height:r?16:20,className:`circle-color color-${a}`},a))})]}),P=({product:c})=>{const{name:r,sku:a,price:t,offert:s,slug:d,marca:l,images:m,rating:o,colors:n,available:u,createdAt:p}=c,h=`${m?.[0]?.url}?fit=pad&w=200&h=200`,g=C(p)<30;return e("li",{children:e("a",{href:`/seguridad/${d}/`,className:"product-card",children:[g&&e("div",{className:"product-card__new",children:e(i,{children:"Nuevo"})}),!u&&e("span",{className:"product-card__sold-out",children:"Agotado"}),e("div",{className:"product-card__image-container",children:e("img",{className:"w-full h-full object-contain",alt:r,src:h,loading:"lazy"})}),e("div",{className:"product-card__body",children:[e("small",{className:"product-card__brand",children:l||a}),e("div",{className:"product-card__title",children:e("p",{children:N(r)})}),o&&e(b,{rating:o,small:!0}),n&&e(D,{colors:n,small:!0}),s?e("div",{children:[e("div",{className:"product-card__price",children:[e("span",{className:"price",children:[e("sub",{children:"S/Â "}),s,".00"]}),e(i,{children:["-",y(t,s),"%"]})]}),e("div",{className:"product-card__old-price block",children:["S/.",t,".00"]})]}):e("div",{className:"product-card__price",children:e("span",{className:"price",children:["S/. ",t,".00"]})})]})]})})},S=({products:c})=>e("ul",{className:"list-card",children:c.sort((r,a)=>r.name.localeCompare(a.name)).map(r=>e(P,{product:r},r.id))}),k=({products:c,categories:r})=>{const[a,t]=f("senalizaciones"),s=l=>{t(l)},d=()=>a?c.filter(l=>v(l.tag)===a):c;return e("div",{className:"px-4",children:[e("header",{children:e(_,{categories:r,onCategoryChange:s,selectedCategory:a})}),e(S,{products:d()}),e("footer",{})]})};export{k as default};
