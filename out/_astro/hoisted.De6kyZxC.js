import"./hoisted.gPKv6eBZ.js";import{_ as f}from"./hoisted.CRYjoTCv.js";import"./hoisted.h9FVFDta.js";const l=document.querySelectorAll(".slide-item"),n=document.querySelector(".slide-box"),d=document.querySelector(".image-view img"),b=document.querySelector("#slide-next-button"),y=document.querySelector("#slide-prev-button");function i(){const r=n.scrollWidth-n.clientWidth,e=n.scrollLeft>0,o=n.scrollLeft<r;y.style.display=e?"block":"none",b.style.display=o?"block":"none"}l.forEach(r=>{r.addEventListener("click",()=>{l.forEach(s=>s.removeAttribute("data-active")),r.toggleAttribute("data-active");const e=r.querySelector(".lazy-image"),o=e.getAttribute("data-src"),t=e.getAttribute("data-alt");d.setAttribute("src",o),d.setAttribute("alt",t)})});n.addEventListener("scroll",()=>{i()});b.addEventListener("click",()=>{n.scrollBy(64,0)});y.addEventListener("click",()=>{n.scrollBy(-64,0)});i();window.addEventListener("resize",()=>{i()});class S extends HTMLElement{slides;wrapper;constructor(){super(),this.slides=null,this.wrapper=null}connectedCallback(){const e=this.querySelector(".carousel-wrapper"),o=this.querySelector(".prev-button");this.querySelector(".next-button").addEventListener("click",()=>{e.scrollBy({left:300,behavior:"smooth"})}),o.addEventListener("click",()=>{e.scrollBy({left:-300,behavior:"smooth"})})}}customElements.define("carousel-component",S);const L=document.querySelector(".price-whole"),q=document.querySelectorAll(".regular-price"),A=document.querySelector(".discount"),u=document.querySelectorAll(".variant-item");u.forEach(r=>{r.addEventListener("click",()=>{u.forEach(s=>s.removeAttribute("data-active"));const e=r.getAttribute("data-regular-price"),o=r.getAttribute("data-offert-price"),t=r.getAttribute("data-discount");r.toggleAttribute("data-active"),q.forEach(s=>s.textContent=`S/${e}.00`),L.textContent=o,A.textContent=`-${t}%`})});const h=document.querySelector("[data-url]");h?.addEventListener("click",()=>{const{url:r}=h.dataset;navigator.share({url:r,title:"Ficha Técnica"})});class k extends HTMLElement{tabs;panels;constructor(){super();const e=this.querySelector('[role="tablist"]');this.tabs=[...e.querySelectorAll('[role="tab"]')],this.panels=[...this.querySelectorAll('[role="tabpanel"]')],this.tabs.forEach((o,t)=>{o.addEventListener("click",s=>{s.preventDefault();const E=e.querySelector("[aria-selected]");s.currentTarget!==E&&this.switchTab(s.currentTarget,t)})})}switchTab(e,o){if(!e)return;this.tabs.forEach(s=>{s.removeAttribute("aria-selected"),s.setAttribute("tabindex","-1")}),this.panels.forEach(s=>{s.hidden=!0});const t=this.panels[o];t&&(t.hidden=!1),e.removeAttribute("tabindex"),e.setAttribute("aria-selected","true"),e.focus()}}customElements.define("tabs-component",k);const p=document.getElementById("share-button"),w=p?.dataset.title;p?.addEventListener("click",()=>{navigator.share({title:document.title,url:location.href,text:w})});const m=document.querySelector("#open-dialog-btn"),a=document.querySelector("#video-dialog"),c=a.querySelector("#share-video-btn"),g=c.querySelector("#share-video-icon"),v=c.querySelector("#loading-video-icon");navigator.share||(c.style.display="none");c.addEventListener("click",async()=>{if(!navigator.share)return;g.classList.add("hidden"),v.classList.remove("hidden"),console.log("...sharing video");const r=c.getAttribute("data-video-url"),e=c.getAttribute("data-video-title"),o=await fetch(r).then(t=>t.blob());window.navigator.share({text:e,files:[new File([o],"video-producto-tellenales.mp4",{type:o.type})],title:e}).then(()=>{console.log("Video compartido con exito")}).catch(t=>console.log("Error al compartir el video",t)).finally(()=>{g.classList.remove("hidden"),v.classList.add("hidden"),console.log("...sharing video")})});m instanceof HTMLLIElement&&a instanceof HTMLDialogElement&&m.addEventListener("click",async()=>{a.showModal();const{default:r}=await f(async()=>{const{default:t}=await import("./plyr.min.DTjjHomp.js");return{default:t}},[]),e=new r("#player"),o=document.querySelector("#close-dialog-btn");o instanceof HTMLButtonElement&&o.addEventListener("click",()=>{e.pause(),a.close()}),a.addEventListener("click",t=>{t.target===t.currentTarget&&(e.pause(),a.close())})});class x extends HTMLElement{static observedAttributes=["data-src"];src;alt;constructor(){super(),this.src=this.getAttribute("data-src"),this.alt=this.getAttribute("data-alt")}connectedCallback(){const e=this.querySelector(".image-skeleton");e.style.display="none";const o=this.querySelector(".image-container"),t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.classList.add("lazy-image"),o.append(t)}attributeChangedCallback(e,o,t){this.updateImageSrc(t)}updateImageSrc(e){const o=this.querySelector("img"),[t]=e.split("?");o?.setAttribute("src",t)}}window.customElements.define("lazy-image",x);
