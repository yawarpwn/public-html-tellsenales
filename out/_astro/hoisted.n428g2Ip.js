import"./hoisted.-e4IHJc2.js";import"./hoisted.4bJ_GZSV.js";var e=function(t){return this._sizes=[],this._columns=[],this._container=null,this._count=null,this._width=0,this._removeListener=null,this._currentGutterX=null,this._currentGutterY=null,this._resizeTimeout=null,this.conf={baseWidth:255,gutterX:null,gutterY:null,gutter:10,container:null,minify:!0,ultimateGutter:5,surroundingGutter:!0,direction:"ltr",wedge:!1},this.init(t),this};e.prototype.init=function(t){for(var i in this.conf)t[i]!=null&&(this.conf[i]=t[i]);if((this.conf.gutterX==null||this.conf.gutterY==null)&&(this.conf.gutterX=this.conf.gutterY=this.conf.gutter),this._currentGutterX=this.conf.gutterX,this._currentGutterY=this.conf.gutterY,this._container=typeof this.conf.container=="object"&&this.conf.container.nodeName?this.conf.container:document.querySelector(this.conf.container),!this._container)throw new Error("Container not found or missing");var r=this.resizeThrottler.bind(this);window.addEventListener("resize",r),this._removeListener=function(){window.removeEventListener("resize",r),this._resizeTimeout!=null&&(window.clearTimeout(this._resizeTimeout),this._resizeTimeout=null)},this.layout()};e.prototype.reset=function(){this._sizes=[],this._columns=[],this._count=null,this._width=this._container.clientWidth;var t=this.conf.baseWidth;this._width<t&&(this._width=t,this._container.style.minWidth=t+"px"),this.getCount()==1?(this._currentGutterX=this.conf.ultimateGutter,this._count=1):this._width<this.conf.baseWidth+2*this._currentGutterX?this._currentGutterX=0:this._currentGutterX=this.conf.gutterX};e.prototype.getCount=function(){return this.conf.surroundingGutter?Math.floor((this._width-this._currentGutterX)/(this.conf.baseWidth+this._currentGutterX)):Math.floor((this._width+this._currentGutterX)/(this.conf.baseWidth+this._currentGutterX))};e.prototype.computeWidth=function(){var t;return this.conf.surroundingGutter?t=(this._width-this._currentGutterX)/this._count-this._currentGutterX:t=(this._width+this._currentGutterX)/this._count-this._currentGutterX,t=Number.parseFloat(t.toFixed(2)),t};e.prototype.layout=function(){if(!this._container){console.error("Container not found");return}this.reset(),this._count==null&&(this._count=this.getCount());for(var t=this.computeWidth(),i=0;i<this._count;i++)this._columns[i]=0;for(var r=this._container.children,s=0;s<r.length;s++)r[s].style.width=t+"px",this._sizes[s]=r[s].clientHeight;var n;if(this.conf.direction=="ltr"?n=this.conf.surroundingGutter?this._currentGutterX:0:n=this._width-(this.conf.surroundingGutter?this._currentGutterX:0),this._count>this._sizes.length){var l=this._sizes.length*(t+this._currentGutterX)-this._currentGutterX;this.conf.wedge===!1?this.conf.direction=="ltr"?n=(this._width-l)/2:n=this._width-(this._width-l)/2:this.conf.direction=="ltr"||(n=this._width-this._currentGutterX)}for(var o=0;o<r.length;o++){var h=this.conf.minify?this.getShortest():this.getNextColumn(o),u=0;(this.conf.surroundingGutter||h!=this._columns.length)&&(u=this._currentGutterX);var c;this.conf.direction=="ltr"?c=n+(t+u)*h:c=n-(t+u)*h-t;var _=this._columns[h];r[o].style.transform="translate3d("+Math.round(c)+"px,"+Math.round(_)+"px,0)",this._columns[h]+=this._sizes[o]+(this._count>1?this.conf.gutterY:this.conf.ultimateGutter)}this._container.style.height=this._columns[this.getLongest()]-this._currentGutterY+"px"};e.prototype.getNextColumn=function(t){return t%this._columns.length};e.prototype.getShortest=function(){for(var t=0,i=0;i<this._count;i++)this._columns[i]<this._columns[t]&&(t=i);return t};e.prototype.getLongest=function(){for(var t=0,i=0;i<this._count;i++)this._columns[i]>this._columns[t]&&(t=i);return t};e.prototype.resizeThrottler=function(){this._resizeTimeout||(this._resizeTimeout=setTimeout(function(){this._resizeTimeout=null,this._container.clientWidth!=this._width&&this.layout()}.bind(this),33))};e.prototype.destroy=function(){typeof this._removeListener=="function"&&this._removeListener();for(var t=this._container.children,i=0;i<t.length;i++)t[i].style.removeProperty("width"),t[i].style.removeProperty("transform");this._container.style.removeProperty("height"),this._container.style.removeProperty("min-width")};new e({container:"#gallery-container",baseWidth:200,surroundingGutter:!1,gutterX:10,gutterY:10});
