import"./hoisted.BlU9wkdZ.js";import{_ as v}from"./hoisted.Bns3XE8P.js";import"./hoisted.DjP5jZu0.js";const l=document.querySelectorAll(".slide-item"),c=document.querySelector(".slide-box"),i=document.querySelector(".image-view lazy-image"),b=document.querySelector("#slide-next-button"),g=document.querySelector("#slide-prev-button");function s(){const r=c.scrollWidth-c.clientWidth,t=c.scrollLeft>0,e=c.scrollLeft<r;g.style.display=t?"block":"none",b.style.display=e?"block":"none"}l.forEach(r=>{r.addEventListener("click",()=>{l.forEach(a=>a.removeAttribute("data-active")),r.toggleAttribute("data-active");const t=r.querySelector("lazy-image"),e=t.getAttribute("data-src"),o=t.getAttribute("data-alt");i.setAttribute("data-src",e),i.setAttribute("data-alt",o)})});c.addEventListener("scroll",()=>{s()});b.addEventListener("click",()=>{c.scrollBy(64,0)});g.addEventListener("click",()=>{c.scrollBy(-64,0)});s();window.addEventListener("resize",()=>{s()});class E extends HTMLElement{slides;wrapper;constructor(){super(),this.slides=null,this.wrapper=null}connectedCallback(){const t=this.querySelector(".carousel-wrapper"),e=this.querySelector(".prev-button");this.querySelector(".next-button").addEventListener("click",()=>{t.scrollBy({left:300,behavior:"smooth"})}),e.addEventListener("click",()=>{t.scrollBy({left:-300,behavior:"smooth"})})}}customElements.define("carousel-component",E);const f=document.querySelector(".price-whole"),S=document.querySelectorAll(".regular-price"),L=document.querySelector(".discount"),d=document.querySelectorAll(".variant-item");d.forEach(r=>{r.addEventListener("click",()=>{d.forEach(a=>a.removeAttribute("data-active"));const t=r.getAttribute("data-regular-price"),e=r.getAttribute("data-offert-price"),o=r.getAttribute("data-discount");r.toggleAttribute("data-active"),S.forEach(a=>a.textContent=`S/${t}.00`),f.textContent=e,L.textContent=`-${o}%`})});const u=document.querySelector("[data-url]");u?.addEventListener("click",()=>{const{url:r}=u.dataset;navigator.share({url:r,title:"Ficha Técnica"})});const p=document.getElementById("share-button"),A=p?.dataset.title;p?.addEventListener("click",()=>{navigator.share({title:document.title,url:location.href,text:A})});const m=document.querySelector("#open-dialog-btn"),n=document.querySelector("#video-dialog"),h=document.querySelector("#share-video-btn");h.addEventListener("click",async()=>{if(!navigator.share){console.log("Share API no soportado");return}const r=h.getAttribute("data-video-url"),t=await fetch(r).then(e=>e.blob());window.navigator.share({text:"Mira el video del producto",files:[new File([t],"video.mp4",{type:"video/mp4"})],title:"Video del Producto"}).then(e=>console.log("Video compartido con exito")).catch(e=>console.log("Error al compartir el video",e))});m instanceof HTMLLIElement&&n instanceof HTMLDialogElement&&m.addEventListener("click",async()=>{n.showModal();const{default:r}=await v(async()=>{const{default:o}=await import("./plyr.min.DTjjHomp.js");return{default:o}},[]),t=new r("#player"),e=document.querySelector("#close-dialog-btn");e instanceof HTMLButtonElement&&e.addEventListener("click",()=>{t.pause(),n.close()}),n.addEventListener("click",o=>{o.target===o.currentTarget&&(t.pause(),n.close())})});class q extends HTMLElement{static observedAttributes=["data-src"];src;alt;constructor(){super(),this.src=this.getAttribute("data-src"),this.alt=this.getAttribute("data-alt")}connectedCallback(){const t=this.querySelector(".image-skeleton");t.style.display="none";const e=this.querySelector(".image-container"),o=document.createElement("img");o.src=this.src,o.alt=this.alt,o.classList.add("lazy-image"),e.append(o)}attributeChangedCallback(t,e,o){this.updateImageSrc(o)}updateImageSrc(t){const e=this.querySelector("img"),[o]=t.split("?");e?.setAttribute("src",o)}}window.customElements.define("lazy-image",q);class k extends HTMLElement{tabs;panels;constructor(){super();const t=this.querySelector('[role="tablist"]');this.tabs=[...t.querySelectorAll('[role="tab"]')],this.panels=[...this.querySelectorAll('[role="tabpanel"]')],this.tabs.forEach((e,o)=>{e.addEventListener("click",a=>{a.preventDefault();const y=t.querySelector("[aria-selected]");a.currentTarget!==y&&this.switchTab(a.currentTarget,o)})})}switchTab(t,e){if(!t)return;this.tabs.forEach(a=>{a.removeAttribute("aria-selected"),a.setAttribute("tabindex","-1")}),this.panels.forEach(a=>{a.hidden=!0});const o=this.panels[e];o&&(o.hidden=!1),t.removeAttribute("tabindex"),t.setAttribute("aria-selected","true"),t.focus()}}customElements.define("tabs-component",k);
