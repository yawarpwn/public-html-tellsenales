import{h as f}from"./hooks.module.4197dc90.js";import{c as v,C as N,t as _}from"./index.77f93417.js";import{o as e}from"./jsxRuntime.module.524dbbf4.js";/* empty css                       *//* empty css                       *//* empty css                       */import"./preact.module.4ded6461.js";/* empty css                       */function y(r){const a=new Date,c=new Date(r),l=a.getTime()-c.getTime();return Math.floor(l/(1e3*60*60*24))}function w(r,a){return((r-a)*100/r).toFixed(0)}const C=({rating:r,small:a})=>{const c=[...Array(5)];return e("div",{className:"flex items-center",children:c.map((l,t)=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:t<r?"var(--theme-accent-secondary)":"none",stroke:"var(--theme-accent-secondary)",className:`ml-0.5 ${a?"w-4 h-4":"w-5 h-5"} ${t<r?"star-fill":"star-empety"} `,children:e("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z",clipRule:"evenodd"})},t))})},i=({color:r="primary",children:a,class:c,...l})=>e("small",{className:`${c||""} badge badge--${r}`,...l,children:a}),b=({colors:r,small:a})=>e("div",{children:[!a&&e("small",{children:"Colores Disponibles"}),e("div",{className:"flex mt-1 items-center gap-x-2",children:r.map(c=>e("span",{className:`circle-color ${c} ${a?"w-4 h-4":"w-5 h-5"} rounded-full `},c))})]}),D=({product:r})=>{const{name:a,sku:c,price:l,offert:t,slug:n,marca:s,images:m,rating:d,colors:o,available:u,createdAt:p}=r,h=`${m?.[0]?.url}?fit=pad&w=200&h=200`,g=y(p)<30;return e("li",{className:"list-none",children:e("a",{href:`/seguridad/${n}/`,className:"hover:no-underline product-card",children:[g&&e("div",{className:"product-card__new",children:e(i,{children:"Nuevo"})}),!u&&e("span",{className:"product-card__sold-out",children:"Agotado"}),e("div",{className:"product-card__image-container",children:e("img",{className:"w-full h-full object-contain",alt:a,src:h,loading:"lazy"})}),e("div",{className:"product-card__body",children:[e("small",{className:"product-card__brand",children:s||c}),e("div",{className:"product-card__title",children:e("p",{children:v(a)})}),d&&e(C,{rating:d,small:!0}),o&&e(b,{colors:o,small:!0}),t?e("div",{children:[e("div",{className:"product-card__price",children:[e("span",{className:"price",children:[e("sub",{children:"S/Â "}),t,".00"]}),e(i,{children:["-",w(l,t),"%"]})]}),e("div",{className:"product-card__old-price block",children:["S/.",l,".00"]})]}):e("div",{className:"product-card__price",children:e("span",{className:"price",children:["S/. ",l,".00"]})})]})]})})},$=({products:r})=>e("ul",{className:"list-card",children:r.sort((a,c)=>a.name.localeCompare(c.name)).map(a=>e(D,{product:a},a.id))}),M=({products:r,categories:a})=>{const[c,l]=f("senalizaciones");console.log(c);const t=s=>{l(s)},n=()=>c?r.filter(s=>_(s.tag)===c):r;return e("div",{className:"px-4",children:[e("header",{children:e(N,{categories:a,onCategoryChange:t,selectedCategory:c})}),e($,{products:n()}),e("footer",{})]})};export{M as default};
