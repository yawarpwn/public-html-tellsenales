import{c as N,g as j}from"./_commonjsHelpers.Cpj98o6Y.js";import"./hoisted.Bns3XE8P.js";import"./hoisted.DjP5jZu0.js";var b={exports:{}};(function(m,f){(function(){var p=function(){function s(){this.queue=new x,this.cancellationTokens=[],this.element=null}var o={default:{className:"default",fadeDuration:400,fadeInterval:16,duration:2e3,closeButton:!1,immediately:!1},success:{className:"success"},info:{className:"info"},warning:{className:"warning"},error:{className:"error",duration:3e3,closeButton:!0}};s.prototype.initElement=function(a){var e=document.createElement("div"),i=document.createElement("div"),t=document.createElement("div"),n=document.createElement("span");e.setAttribute("id","vanilla-toast-container"),i.setAttribute("id","vanilla-toast"),t.setAttribute("id","vanilla-toast-text"),n.setAttribute("id","vanilla-toast-close-button"),n.innerHTML="&#10006;",i.appendChild(t),i.appendChild(n),e.appendChild(i),a?document.getElementById(seletor).appendChild(containter):document.body.appendChild(e),this.element={container:e,toastBox:i,text:t,closeButton:n},h(this,o.default)},s.prototype.cancel=function(){this.cancellationTokens.length&&this.cancellationTokens[0].cancel()},s.prototype.cancelAll=function(){for(var a=this.cancellationTokens.length,e=0;e<a;++e)(function(i){i.cancel()})(this.cancellationTokens[a-e-1])},s.prototype.show=function(a,e,i){var t=this;t.element||t.initElement(),e||(e={}),e.immediately&&t.cancelAll();var n=new r;return t.queue.enqueue(function(d){var c=e.fadeDuration||o.default.fadeDuration,v=e.fadeInterval||o.default.fadeInterval,D=Math.min(v/c,1),S=e.duration||o.default.duration;t.element.closeButton.style.display=e.closeButton?"inline":"none",t.element.text.innerHTML=a;var E=t.element.toastBox.style;E.opacity=0,E.display="inline-block",h(t,e);var y=null,T=function(){y=null,t.element.toastBox.removeEventListener("click",g),A(t,e,n,function(){i&&i(),t.cancellationTokens.shift().dispose(),d()})},g=function(){y&&(clearTimeout(y),T())};k(E,D,v,n,function(){t.element.toastBox.addEventListener("click",g),n.isCancellationRequested?T():(y=setTimeout(T,S),n.register(function(){g()}))})}),t.cancellationTokens.push(n),t};for(var l in o)(function(a){s.prototype[a]=function(e,i,t){i||(i={});for(var n in o[a])i[n]===void 0&&(i[n]=o[a][n]);return this.show(e,i,t)}})(l);function h(a,e){a.element.toastBox.className=e.className||o.default.className}function A(a,e,i,t){e||(e={});var n=e.fadeDuration||o.default.fadeDuration,d=e.fadeInterval||o.default.fadeInterval,c=Math.min(d/n,1),v=a.element.toastBox.style;return v.opacity=1,k(v,-c,d,i,function(){v.display="none",t&&t()}),a}function k(a,e,i,t,n){(function d(){if(t.isCancellationRequested){a.opacity=e<0?0:1,n&&n();return}if(a.opacity=Number(a.opacity)+e,e<0&&a.opacity<0)n&&n();else if(e>0&&a.opacity>=1)n&&n();else{var c=setTimeout(function(){c=null,d()},i);t.register(function(){c&&(clearTimeout(c),c=null,n&&n())})}})()}return s}(),r=function(){function s(){this.isCancellationRequested=!1,this.cancelCallbacks=[]}return s.prototype.cancel=function(){this.isCancellationRequested=!0;for(var o=this.cancelCallbacks.slice();o.length;)o.shift()()},s.prototype.register=function(o){this.cancelCallbacks.push(o)},s.prototype.dispose=function(){for(;this.cancelCallbacks.length;)this.cancelCallbacks.shift()},s}(),x=function(){function s(){this.queue=[],this.isExecuting=!1}s.prototype.enqueue=function(l){this.queue.push(l),o(this)};function o(l){if(!l.isExecuting){var h=l.queue.shift();h&&(l.isExecuting=!0,h(function(){l.isExecuting=!1,o(l)}))}}return s}();m.exports&&(f=m.exports=new p),f.vanillaToast=new p}).call(N)})(b,b.exports);var L=b.exports;const C=j(L),u=document.querySelector("#contact-form"),q=u.querySelector("button"),B=q.querySelector(".spinner-icon");class w extends Error{constructor(f){super(f)}}u.addEventListener("submit",async m=>{if(m.preventDefault(),u.classList.add("was-validated"),!u.checkValidity()){u.querySelectorAll(":invalid")[0].focus();return}const f=new FormData(u),p=Object.fromEntries(f);q.setAttribute("disabled",""),B.style.display="block";try{const r=await fetch("https://tellapp.vercel.app/api/send-mail",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(p)});if(!r.ok)throw new w("Error en conexi√≥n, intentalo de nuevo");const{success:x,message:s}=await r.json();if(!x)throw new w(s);C.success("Eviando con exito"),u.reset()}catch(r){if(r instanceof w){C.error(r.message);return}C.error("Algo salio mal, intentalo de nuevo")}finally{q.removeAttribute("disabled"),B.style.display="none",u.classList.remove("was-validated")}});
