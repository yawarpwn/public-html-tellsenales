import{S as a}from"./index.D3IKQ_MP.js";import{v as r}from"./vanilla-toast.9j5tC8d-.js";import"./_commonjsHelpers.CqkleIqs.js";const o=document.getElementById("subcribe-form"),n=o.querySelector("button");o.addEventListener("submit",s=>{s.preventDefault();const i=new FormData(o),e=String(i.get("email"));if(console.log("submit, email: ",e),!e||!/^[\w.-]+@[\w-]+\.[\w-]{2,}$/.test(e)){r.error("Correo invÃ¡lido");return}n.setAttribute("disabled",""),fetch(a,{method:"POST",body:JSON.stringify({email:e}),headers:{"Content-Type":"application/json"}}).then(t=>{if(!t.ok)throw new Error("Error en la solicitud");return t.json()}).then(t=>{console.log(t),r.success(t.message),o.reset()}).catch(t=>{console.log(t),r.error("Algo salio mal al intentar suscribirte")}).finally(()=>{n.removeAttribute("disabled")})});
