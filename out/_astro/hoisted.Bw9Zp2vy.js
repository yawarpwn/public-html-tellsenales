import"./hoisted.gPKv6eBZ.js";import{_ as p}from"./hoisted.CRYjoTCv.js";import"./hoisted.h9FVFDta.js";const d=document.querySelectorAll(".slide-item"),c=document.querySelector(".slide-box"),u=document.querySelector(".image-view img"),b=document.querySelector("#slide-next-button"),v=document.querySelector("#slide-prev-button");function l(){const t=c.scrollWidth-c.clientWidth,e=c.scrollLeft>0,s=c.scrollLeft<t;v.style.display=e?"block":"none",b.style.display=s?"block":"none"}d.forEach(t=>{t.addEventListener("click",()=>{d.forEach(r=>r.removeAttribute("data-active")),t.toggleAttribute("data-active");const e=t.querySelector(".lazy-image"),s=e.getAttribute("data-src"),o=e.getAttribute("data-alt");u.setAttribute("src",s),u.setAttribute("alt",o)})});c.addEventListener("scroll",()=>{l()});b.addEventListener("click",()=>{c.scrollBy(64,0)});v.addEventListener("click",()=>{c.scrollBy(-64,0)});l();window.addEventListener("resize",()=>{l()});class E extends HTMLElement{slides;wrapper;constructor(){super(),this.slides=null,this.wrapper=null}connectedCallback(){const e=this.querySelector(".carousel-wrapper"),s=this.querySelector(".prev-button");this.querySelector(".next-button").addEventListener("click",()=>{e.scrollBy({left:300,behavior:"smooth"})}),s.addEventListener("click",()=>{e.scrollBy({left:-300,behavior:"smooth"})})}}customElements.define("carousel-component",E);const f=document.querySelector(".price-whole"),S=document.querySelectorAll(".regular-price"),L=document.querySelector(".discount"),h=document.querySelectorAll(".variant-item");h.forEach(t=>{t.addEventListener("click",()=>{h.forEach(r=>r.removeAttribute("data-active"));const e=t.getAttribute("data-regular-price"),s=t.getAttribute("data-offert-price"),o=t.getAttribute("data-discount");t.toggleAttribute("data-active"),S.forEach(r=>r.textContent=`S/${e}.00`),f.textContent=s,L.textContent=`-${o}%`})});const m=document.querySelector("[data-url]");m?.addEventListener("click",()=>{const{url:t}=m.dataset;navigator.share({url:t,title:"Ficha TeÌcnica"})});const y=document.getElementById("share-button"),q=y?.dataset.title;y?.addEventListener("click",()=>{navigator.share({title:document.title,url:location.href,text:q})});const g=document.querySelector("#open-dialog-btn"),i=document.querySelector("#video-dialog");if(g instanceof HTMLLIElement&&i instanceof HTMLDialogElement){const t=i.querySelector("#share-video-btn"),e=t.querySelector("#share-video-icon"),s=t.querySelector("#loading-video-icon");navigator.share||(t.style.display="none"),t.addEventListener("click",async()=>{if(!navigator.share)return;e.classList.add("hidden"),s.classList.remove("hidden"),console.log("...sharing video");const o=t.getAttribute("data-video-url"),r=t.getAttribute("data-video-title"),a=await fetch(o).then(n=>n.blob());window.navigator.share({text:r,files:[new File([a],"video-producto-tellenales.mp4",{type:a.type})],title:r}).then(()=>{console.log("Video compartido con exito")}).catch(n=>console.log("Error al compartir el video",n)).finally(()=>{e.classList.remove("hidden"),s.classList.add("hidden"),console.log("...sharing video")})}),g.addEventListener("click",async()=>{i.showModal();const{default:o}=await p(async()=>{const{default:n}=await import("./plyr.min.DTjjHomp.js");return{default:n}},[]),r=new o("#player"),a=document.querySelector("#close-dialog-btn");a instanceof HTMLButtonElement&&a.addEventListener("click",()=>{r.pause(),i.close()}),i.addEventListener("click",n=>{n.target===n.currentTarget&&(r.pause(),i.close())})})}class A extends HTMLElement{tabs;panels;constructor(){super();const e=this.querySelector('[role="tablist"]');this.tabs=[...e.querySelectorAll('[role="tab"]')],this.panels=[...this.querySelectorAll('[role="tabpanel"]')],console.log(this.tabs),this.tabs.forEach((s,o)=>{s.addEventListener("click",r=>{r.preventDefault(),console.log("tab--->");const a=e.querySelector("[aria-selected]");r.currentTarget!==a&&this.switchTab(r.currentTarget,o)})})}switchTab(e,s){if(!e)return;this.tabs.forEach(r=>{r.removeAttribute("aria-selected"),r.setAttribute("tabindex","-1")}),this.panels.forEach(r=>{r.hidden=!0});const o=this.panels[s];o&&(o.hidden=!1),e.removeAttribute("tabindex"),e.setAttribute("aria-selected","true"),e.focus()}}customElements.define("tabs-component",A);class k extends HTMLElement{static observedAttributes=["data-src"];src;alt;constructor(){super(),this.src=this.getAttribute("data-src"),this.alt=this.getAttribute("data-alt")}connectedCallback(){const e=this.querySelector(".image-skeleton");e.style.display="none";const s=this.querySelector(".image-container"),o=document.createElement("img");o.src=this.src,o.alt=this.alt,o.classList.add("lazy-image"),s.append(o)}attributeChangedCallback(e,s,o){this.updateImageSrc(o)}updateImageSrc(e){const s=this.querySelector("img"),[o]=e.split("?");s?.setAttribute("src",o)}}window.customElements.define("lazy-image",k);
