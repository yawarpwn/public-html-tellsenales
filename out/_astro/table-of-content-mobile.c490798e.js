import"./compat.module.a3cb61b5.js";import{_ as v,h as g,p as b}from"./hooks.module.5c3fac68.js";import"./styles.4ed993c7.js";import{o as e}from"./jsxRuntime.module.524dbbf4.js";import"./preact.module.4ded6461.js";const I=({headings:r})=>{r=[{slug:"overview",text:"Sinopsis",depth:2},...r];const i=v(),[a,l]=g(!1),[d,h]=g("overview"),m="on-this-page-heading",p=r.find(({slug:t})=>t===d),u=t=>{l(!1),h(t.target.getAttribute("href").replace("#",""))};return b(()=>{if(!i.current)return;const t=c=>{for(const s of c)if(s.isIntersecting){const{id:f}=s.target;if(f===m)continue;h(s.target.id);break}},n={rootMargin:"-100px 0% -66%",threshold:1},o=new IntersectionObserver(t,n);return document.querySelectorAll("article :is(h1, h2, h3)").forEach(c=>o.observe(c)),()=>o.disconnect()},[i.current]),e("details",{open:a,className:"toc-mobile-container",onToggle:t=>l(t.target.open),children:[e("summary",{className:"toc-mobile-header",children:e("div",{class:"toc-mobile-header-content",children:[e("div",{className:"toc-toggle",children:[e("h2",{className:"heading",id:m,children:"En estÃ¡ pagina"}),e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 1 16 16",width:"16",height:"16","aria-hidden":"true",children:e("path",{"fill-rule":"evenodd",d:"M6.22 3.22a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06L9.94 8 6.22 4.28a.75.75 0 010-1.06z"})})]}),!a&&p?.slug!=="overview"&&e("span",{className:"toc-current-heading",children:p?.text||""})]})}),e("ul",{ref:i,children:r.map(({depth:t,slug:n,text:o})=>e("li",{className:`header-link depth-${t} ${d===n?"current-header-link":""}`.trim(),children:e("a",{href:`#${n}`,onClick:u,children:o})}))})]})};export{I as default};
